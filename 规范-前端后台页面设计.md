# 前端页面设计规范

本文档旨在统一前端页面的设计风格、交互逻辑与开发规范，确保系统界面的一致性、易用性及可维护性。所有新开发的页面均需遵循此规范。

## 一、 页面布局规范

### 1. 整体布局
*   **管理后台模式**：采用经典的 "侧边栏 + 顶部导航 + 内容区域" 布局。
    *   **侧边栏 (Sidebar)**：展示系统菜单，支持折叠/展开。
    *   **顶部导航 (Header)**：展示面包屑导航、用户信息、退出登录按钮。
    *   **内容区域 (Main)**：展示具体的业务页面，统一包含 20px 的内边距 (Padding)。

### 2. 列表页布局 (List Page)
所有列表管理页面（如商品库、代理商列表）需遵循统一的布局结构：
1.  **搜索筛选区 (Filter Area)**：
    *   位于表格上方。
    *   **布局**：Flex 布局，左对齐，元素间距 10px-20px。
    *   **交互**：每个搜索框仅支持单一条件（不聚合），回车或点击“查询”按钮触发搜索。
    *   **操作按钮**：新增/录入/导出等核心操作按钮位于搜索区最右侧。
2.  **数据表格区 (Table Area)**：
    *   位于搜索筛选区下方，占据主要版面。
    *   **列宽**：关键列（如名称）自适应，固定列（如操作、ID）固定宽度。
    *   **操作列**：统一固定在表格最右侧 (Fixed Right)。包含“查看”、“编辑”、状态变更等操作按钮。
3.  **分页区 (Pagination Area)**：
    *   位于表格下方，右对齐。
    *   包含：总条数、页码跳转、每页条数切换。

### 3. 表单页布局 (Form Page)
所有新增/编辑/详情页面需遵循：
*   **展示方式**：
    *   **简单表单**：使用弹窗 (Dialog/Modal) 承载（如状态修改）。
    *   **复杂表单**：跳转至独立页面或使用抽屉 (Drawer)（如商品添加、采购录入）。
*   **表单排版**：
    *   标签对齐：右对齐 (Label Position: Right)。
    *   必填标识：红色星号 (*) 前置。
    *   操作栏：底部固定或随表单流式布局，包含“保存”和“取消”按钮。
*   **表单验证反馈**：
    *   **即时校验**：输入框失去焦点 (Blur) 时触发。
    *   **提交校验**：点击提交按钮时触发全量校验。
    *   **错误定位**：校验失败时，自动滚动到第一个错误字段位置。

### 4. 详情页布局 (Detail Page)
*   **结构**：
    *   **基础信息区**：使用 Description 列表展示 Key-Value 信息。
    *   **关联数据区**：Tab 页切换展示（如“关联订单”、“操作日志”）。
*   **操作栏**：右上角固定展示核心操作（编辑、打印、返回）。

---

## 二、 交互设计规范

### 1. 按钮 (Button)
*   **主按钮 (Primary)**：用于“保存”、“提交”、“查询”、“新增”等核心操作。
    *   颜色：品牌色 (如 Element Plus 的 Primary Blue)。
*   **次按钮 (Default)**：用于“取消”、“重置”、“返回”等辅助操作。
*   **危险按钮 (Danger)**：用于“删除”、“禁用”、“下架”等破坏性操作，**必须**配合二次确认弹窗 (Confirm Dialog)。
*   **链接按钮 (Link)**：用于表格操作列中的“查看”、“编辑”等低频操作。

### 2. 反馈 (Feedback)
*   **加载状态 (Loading)**：
    *   表格查询时：表格区域显示 Loading 遮罩。
    *   按钮提交时：按钮置灰并显示 Loading 图标，防止重复提交。
*   **消息提示 (Message)**：
    *   成功操作：顶部居中显示绿色成功提示 (Success Message)，3秒后自动消失。
    *   失败操作：顶部居中显示红色错误提示 (Error Message)，需明确错误原因。
*   **表单验证**：
    *   触发时机：失焦 (Blur) 或 提交 (Submit) 时。
    *   错误样式：输入框变红，下方显示红色错误文案。

### 3. 组件规范 (Component Specs)
*   **Dialog / Modal**:
    *   **标题**：动词 + 名词（如“修改密码”）。
    *   **遮罩层**：点击遮罩层**不关闭**弹窗 (`close-on-click-modal="false"`)，防止误触丢失内容。
    *   **按钮顺序**：右下角，主操作在右（确定），次操作在左（取消）。
*   **Table**:
    *   **空数据**：必须展示 Empty 占位图和文案（“暂无数据”）。
    *   **加载中**：必须使用 Skeleton 骨架屏或 Loading Spinner。
    *   **对齐方式**：
        *   文本：左对齐。
        *   数字/金额：右对齐（便于比对）。
        *   操作/状态/日期：居中对齐。

---

## 三、 技术实现规范 (Vue 3 + Element Plus)

### 1. 组件命名
*   **页面组件**：`views/{Module}/{PageName}.vue` (如 `views/product/ProductList.vue`)
*   **通用组件**：`components/{ComponentName}.vue` (如 `components/ImageUpload.vue`)

### 2. 路由命名
*   使用小写 kebab-case，与文件路径对应。
    *   列表页：`/product/list`
    *   添加页：`/product/add`
    *   详情页：`/product/detail/:id`

### 3. 状态管理
*   使用 Pinia 管理全局状态（如用户信息、字典数据）。
*   列表页的搜索条件不强制存入 Store，使用组件内 `ref` 即可。

### 4. 接口调用
*   统一封装在 `api/{module}.js` 中。
*   页面中通过 `import { getProductList } from '@/api/product'` 引入。

### 5. 代码实现指引 (Implementation Guide) - for AI
为了避免代码生成过程中的理解偏移，请严格遵守以下实现细节：

1.  **布局模式 (Layout Mode)**：
    *   采用 **固定 Header + 固定 Sidebar + 内容区滚动** 的布局模式。
    *   **表格滚动**：列表页表格建议设置 `max-height` 或使用 `el-table` 的 `height="100%"` 属性，实现**固定表头**，内容区域内部滚动。
    *   **移动端适配**：当屏幕宽度 < 768px 时，自动隐藏 Sidebar（改为汉堡菜单触发的抽屉），表格开启横向滚动条。

2.  **搜索区布局 (Filter Layout)**：
    *   采用 **Grid** 或 **Flex Wrap** 布局。
    *   当搜索条件超过 4 个时，自动换行对齐，避免横向溢出。
    *   Label 与 Input 采用 **左右结构** (Label 右对齐)，保持整齐。

### 6. 数据处理与响应式 (Data Handling) - for AI
*   **金额处理**：
    *   前端展示：统一使用 `千分位` 格式化（如 `1,234.56`）。
    *   计算逻辑：禁止在前端进行复杂的金额计算（如折扣、总价），必须依赖后端返回。
*   **日期时间**：
    *   展示格式：`YYYY-MM-DD HH:mm:ss` (使用 dayjs)。
    *   传输格式：ISO 8601 或 时间戳（需与后端对齐）。
*   **枚举值映射**：
    *   禁止硬编码（如 `if (status === 1)`）。
    *   必须使用常量字典或后端返回的 Enum Map（如 `STATUS_MAP[status].label`）。

### 7. 错误处理 (Error Handling)
*   **全局拦截**：在 Axios 的 `response` 拦截器中统一处理 HTTP 错误（401/403/500）和业务错误（`code !== 200`）。
*   **统一提示**：拦截器中调用 `ElMessage.error(msg)` 显示错误信息。
*   **组件简化**：组件内的 `catch` 块仅需处理 loading 状态复位等 UI 逻辑，无需重复弹出错误提示。

